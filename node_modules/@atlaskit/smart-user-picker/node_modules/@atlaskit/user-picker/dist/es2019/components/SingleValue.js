import _extends from "@babel/runtime/helpers/extends";
/**
 * @jsxRuntime classic
 * @jsx jsx
 */
import { AvatarItem } from '@atlaskit/avatar';
// eslint-disable-next-line @atlaskit/ui-styling-standard/use-compiled -- Ignored via go/DSP-18766
import { css, jsx } from '@emotion/react';
import { components } from '@atlaskit/select';
import { SizeableAvatar } from './SizeableAvatar';
import { getAvatarUrl, isTeam } from './utils';
import { VerifiedTeamIcon } from '@atlaskit/people-teams-ui-public/verified-team-icon';
import { fg } from '@atlaskit/platform-feature-flags';
import { Inline } from '@atlaskit/primitives';
const avatarItemComponent = css({
  // eslint-disable-next-line @atlaskit/ui-styling-standard/no-important-styles -- Ignored via go/DSP-18766
  border: 'none !important',
  // eslint-disable-next-line @atlaskit/ui-styling-standard/no-important-styles -- Ignored via go/DSP-18766
  padding: `${"var(--ds-space-0, 0px)"} !important`,
  width: 'auto',
  overflow: 'hidden',
  minWidth: '100px',
  // eslint-disable-next-line @atlaskit/ui-styling-standard/no-nested-selectors -- Ignored via go/DSP-18766
  '& > span': {
    boxSizing: 'border-box'
  },
  '&:hover': {
    width: 'auto',
    padding: 0,
    border: 'none'
  }
});
const ElementAfter = props => {
  const {
    data: {
      data
    }
  } = props;
  if (isTeam(data) && data.verified) {
    return jsx(VerifiedTeamIcon, null);
  }
  return null;
};
export const SingleValue = props => {
  const {
    data: {
      label,
      data
    },
    //@ts-ignore react-select unsupported props
    selectProps: {
      appearance,
      isFocused
    }
  } = props;
  return !isFocused ? jsx(components.SingleValue, props, jsx(AvatarItem, {
    backgroundColor: "transparent",
    avatar: jsx(SizeableAvatar, {
      src: getAvatarUrl(data),
      appearance: appearance,
      type: isTeam(data) && fg('verified-team-in-user-picker') ? 'team' : 'person'
    }),
    primaryText: fg('verified-team-in-user-picker') ? jsx(Inline, {
      alignBlock: "center"
    }, label, jsx(ElementAfter, props)) : label
  }, ({
    ref,
    ...props
  }) => jsx("div", _extends({
    css: avatarItemComponent
  }, props)))) : null;
};