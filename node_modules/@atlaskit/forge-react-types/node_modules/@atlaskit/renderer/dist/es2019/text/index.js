import { defaultSchema } from '@atlaskit/adf-schema/schema-default';
import { reduce } from './nodes';
export default class TextSerializer {
  constructor(schema) {
    this.schema = schema;
    this.schema = schema;
  }
  serializeFragment(fragment) {
    const result = [];
    fragment.forEach(n => {
      result.push(reduce(n, this.schema));
    });

    // Ignored via go/ees005
    // eslint-disable-next-line require-unicode-regexp
    return result.join('\n').replace(/\n+/g, '\n');
  }
  static fromSchema(schema = defaultSchema) {
    return new TextSerializer(schema);
  }
}