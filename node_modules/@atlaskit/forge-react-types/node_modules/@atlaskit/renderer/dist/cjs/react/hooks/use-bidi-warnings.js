"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useBidiWarnings = void 0;
var _react = _interopRequireDefault(require("react"));
var _reactIntlNext = require("react-intl-next");
var _bidiWarning = _interopRequireDefault(require("@atlaskit/code/bidi-warning"));
var _messages = require("@atlaskit/editor-common/messages");
var _bidiWarningDecorator = _interopRequireDefault(require("@atlaskit/code/bidi-warning-decorator"));
var useBidiWarnings = exports.useBidiWarnings = function useBidiWarnings(_ref) {
  var _ref$enableWarningToo = _ref.enableWarningTooltip,
    enableWarningTooltip = _ref$enableWarningToo === void 0 ? true : _ref$enableWarningToo;
  var intl = (0, _reactIntlNext.useIntl)();
  var warningLabel = intl.formatMessage(_messages.codeBidiWarningMessages.label);
  var renderBidiWarnings = function renderBidiWarnings(text) {
    return (0, _bidiWarningDecorator.default)(text, function (_ref2) {
      var bidiCharacter = _ref2.bidiCharacter,
        index = _ref2.index;
      return /*#__PURE__*/_react.default.createElement(_bidiWarning.default, {
        bidiCharacter: bidiCharacter,
        key: index,
        label: warningLabel,
        tooltipEnabled: enableWarningTooltip
      });
    });
  };
  return {
    renderBidiWarnings: renderBidiWarnings,
    warningLabel: warningLabel
  };
};