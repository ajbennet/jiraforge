import React from 'react';
import { MenuGroup } from '@atlaskit/menu';
import { fg } from '@atlaskit/platform-feature-flags';
import { Stack } from '@atlaskit/primitives/compiled';
import { useAutomationMenu } from '../../menu-context';
import { AutomationModalEmptyState } from '../empty-state';
import { AutomationModalRule } from '../rule';
import { AutomationModalRuleListOld } from './AutomationModalRuleListOld';
const AutomationModalRuleListNew = ({
  selectedRule,
  setSelectedRule
}) => {
  const {
    rules
  } = useAutomationMenu();
  if (rules.length === 0) {
    return /*#__PURE__*/React.createElement(AutomationModalEmptyState, null);
  }
  return /*#__PURE__*/React.createElement(MenuGroup, null, /*#__PURE__*/React.createElement(Stack, {
    space: "space.050"
  }, rules.map(rule => /*#__PURE__*/React.createElement(AutomationModalRule, {
    key: `manual-rule-${rule.id}`,
    rule: rule,
    selectedRule: selectedRule,
    setSelectedRule: setSelectedRule
  }))));
};
export const AutomationModalRuleList = props => {
  if (fg('bandicoots-compiled-migration-smartcard')) {
    return /*#__PURE__*/React.createElement(AutomationModalRuleListNew, props);
  }
  return /*#__PURE__*/React.createElement(AutomationModalRuleListOld, props);
};